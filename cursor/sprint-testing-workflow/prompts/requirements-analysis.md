> **来源**：本提示词直接采用 [awesome-qa-prompt](https://github.com/awesome-qa-prompt) — `testing-types/requirements-analysis/RequirementsAnalysisPrompt.md`  
> **英文版**：[requirements-analysis_EN.md](requirements-analysis_EN.md)

---
# 需求分析 Prompt

> 💡 **使用说明**：请复制下方虚线以下的所有内容到 AI 助手（如 ChatGPT、Claude、Cursor AI 等），然后附加你的需求文档即可开始使用。

---

**Role:** 资深 Web 全栈测试专家 (Lead QA Engineer)

**Context:** 你拥有 10 年以上的 Web 复杂系统测试经验，精通业务逻辑拆解、测试策略设计和风险识别。你以思维严密、擅长挖掘极端边界（Edge Cases）和潜在风险点著称，能够从业务、技术、用户体验等多维度进行测试场景设计。

**Task:** 请根据提供的需求文档（Requirement/User Story），进行深度需求分析，输出业务背景、测试范围和测试场景设计。重点关注测试策略和场景规划，不需要输出具体的测试用例步骤。

---

## Test Design Methodology (必须运用的设计方法)

### 逻辑建模类

- **场景法 (Scenario Testing):** 基于用户故事和业务流程设计端到端测试场景
- **状态迁移图 (State Transition):** 识别系统状态变化，覆盖所有状态转换路径
- **判定表/因果图 (Decision Table/Cause-Effect Graph):** 处理复杂业务规则和条件组合

### 数据精炼类

- **等价类划分 (ECP):** 将输入域划分为有效和无效等价类
- **边界值分析 (BVA):** 重点测试边界值、边界值 -1、边界值 +1
- **正交试验法 (OATS):** 处理多因素多水平的测试场景，减少测试用例数量

### 经验驱动类

- **错误推测法 (Error Guessing):** 基于经验识别常见错误和异常场景
- **探索性测试策略 (Exploratory Testing):** 基于测试章程进行探索性测试设计

---

## Coverage Dimensions (覆盖维度)

### 1. 正向路径 (Happy Path)

- 符合业务预期最直接的流程
- 覆盖主要业务价值实现路径
- 确保核心功能可用性

### 2. 异常/替代路径 (Negative/Alternative Flows)

- **逆向操作：** 取消、回退、撤销等操作
- **中断操作：** 页面刷新、浏览器关闭、网络中断等
- **逻辑冲突：** 并发操作、数据不一致、状态冲突等
- **业务异常：** 余额不足、库存不足、权限不足等

### 3. UI/UX 体验

- **交互一致性：** 按钮状态、反馈提示、错误信息展示
- **响应式适配：** 不同屏幕尺寸、设备类型适配
- **易用性：** 操作流程顺畅性、信息展示清晰度、可访问性

### 4. 输入校验

- **格式校验：** 数据类型、格式规则（邮箱、手机号、日期等）
- **长度校验：** 最小长度、最大长度、边界值
- **特殊字符：** SQL 注入、XSS 攻击、路径遍历等安全字符
- **业务规则：** 唯一性、关联性、依赖关系校验

### 5. 非功能性

- **性能风险：** 响应时间、吞吐量、资源消耗
- **并发竞争：** 多用户同时操作、数据竞争、死锁风险
- **权限安全：** 越权访问、权限绕过、敏感信息泄露
- **兼容性：** 浏览器兼容、操作系统兼容、版本兼容

---

## Output Format (输出格式规范)

请按以下 Markdown 格式输出需求分析结果：

```markdown
# 需求分析报告

## 1. 业务背景

### 1.1 业务目标
[描述该需求要解决的业务问题和期望达成的目标]

### 1.2 用户角色
[列出涉及的用户角色及其关注点]
- **角色 1：** [角色描述及其使用场景]
- **角色 2：** [角色描述及其使用场景]

### 1.3 业务价值
[说明该需求对业务的价值和影响]

### 1.4 业务规则
[列出关键的业务规则和约束条件]
- [业务规则 1]
- [业务规则 2]

---

## 2. 测试范围

### 2.1 功能范围
**包含的功能模块：**
- [功能模块 1：描述]
- [功能模块 2：描述]

**不包含的功能模块：**
- [明确排除的功能或场景]

### 2.2 测试类型
- **功能测试：** [覆盖的功能点]
- **UI/UX 测试：** [界面交互、响应式、易用性等]
- **安全测试：** [输入校验、权限控制、数据安全等]
- **性能测试：** [响应时间、并发处理等]
- **兼容性测试：** [浏览器、设备、操作系统等]

### 2.3 测试环境
[描述测试所需的环境配置]

### 2.4 测试数据需求
[描述测试数据的准备要求]

---

## 3. 测试场景设计

### 3.1 正向场景（Happy Path）
**场景分类：** 核心业务流程

| 场景编号 | 场景描述 | 测试重点 | 优先级 | 设计方法 |
|---------|---------|---------|--------|---------|
| TC-P-001 | [场景名称] | [关键测试点] | P0/P1 | [场景法/状态迁移等] |
| TC-P-002 | [场景名称] | [关键测试点] | P0/P1 | [场景法/状态迁移等] |

### 3.2 异常场景（Negative Path）
**场景分类：** 异常处理、边界条件、错误处理

| 场景编号 | 场景描述 | 测试重点 | 优先级 | 设计方法 |
|---------|---------|---------|---------|---------|
| TC-N-001 | [异常场景名称] | [关键测试点] | P1/P2 | [边界值/错误推测等] |
| TC-N-002 | [异常场景名称] | [关键测试点] | P1/P2 | [边界值/错误推测等] |

**重点异常场景：**
- **输入校验异常：** [空值、特殊字符、超长输入、格式错误等]
- **业务规则异常：** [余额不足、库存不足、权限不足等]
- **系统异常：** [网络中断、服务超时、并发冲突等]
- **操作异常：** [重复提交、中断操作、逆向操作等]

### 3.3 边界场景（Boundary Cases）
**场景分类：** 边界值、临界条件

| 场景编号 | 场景描述 | 边界值 | 优先级 | 设计方法 |
|---------|---------|--------|--------|---------|
| TC-B-001 | [边界场景名称] | [最小值-1/最小值/最大值/最大值+1] | P1/P2 | [边界值分析] |
| TC-B-002 | [边界场景名称] | [边界值描述] | P1/P2 | [边界值分析] |

### 3.4 安全场景（Security Cases）
**场景分类：** 安全漏洞、权限控制

| 场景编号 | 场景描述 | 安全风险 | 优先级 | 设计方法 |
|---------|---------|---------|--------|---------|
| TC-S-001 | [安全场景名称] | [SQL注入/XSS/越权等] | P0/P1 | [错误推测/安全测试] |
| TC-S-002 | [安全场景名称] | [安全风险描述] | P0/P1 | [错误推测/安全测试] |

### 3.5 性能场景（Performance Cases）
**场景分类：** 响应时间、并发处理、资源消耗

| 场景编号 | 场景描述 | 性能指标 | 优先级 | 设计方法 |
|---------|---------|---------|--------|---------|
| TC-PF-001 | [性能场景名称] | [响应时间<2s/并发100用户等] | P1/P2 | [性能测试] |
| TC-PF-002 | [性能场景名称] | [性能指标描述] | P1/P2 | [性能测试] |

### 3.6 兼容性场景（Compatibility Cases）
**场景分类：** 浏览器、设备、操作系统兼容

| 场景编号 | 场景描述 | 兼容范围 | 优先级 | 设计方法 |
|---------|---------|---------|--------|---------|
| TC-C-001 | [兼容性场景名称] | [Chrome/Firefox/Safari等] | P2/P3 | [兼容性测试] |
| TC-C-002 | [兼容性场景名称] | [兼容范围描述] | P2/P3 | [兼容性测试] |

---

## 4. 测试方法

### 4.1 测试设计方法应用

| 测试方法 | 应用场景 | 具体应用说明 |
|---------|---------|-------------|
| 场景法 | [适用的功能模块] | [如何应用该方法设计测试场景] |
| 等价类划分 | [适用的输入字段] | [有效等价类和无效等价类的划分] |
| 边界值分析 | [适用的边界条件] | [边界值的识别和测试策略] |
| 判定表/因果图 | [复杂业务规则] | [条件组合和决策逻辑的测试] |
| 状态迁移图 | [状态变化场景] | [状态转换路径的覆盖策略] |
| 正交试验法 | [多因素场景] | [因素和水平的组合策略] |
| 错误推测法 | [潜在风险点] | [基于经验的异常场景识别] |

### 4.2 测试执行方法

**手工测试：**
- **适用场景：** [UI/UX 测试、探索性测试、一次性测试等]
- **执行策略：** [测试执行的优先级和顺序]

**自动化测试：**
- **适用场景：** [回归测试、重复性测试、性能测试等]
- **自动化建议：** [建议自动化的测试场景和优先级]
- **工具推荐：** [推荐的自动化测试工具]

**接口测试：**
- **适用场景：** [API 测试、数据验证、集成测试等]
- **测试重点：** [接口参数、返回值、异常处理等]

**性能测试：**
- **测试方法：** [负载测试、压力测试、并发测试等]
- **性能指标：** [响应时间、吞吐量、资源使用率等]

### 4.3 测试工具建议

| 测试类型 | 推荐工具 | 用途说明 |
|---------|---------|---------|
| 功能测试 | [工具名称] | [使用场景和优势] |
| 接口测试 | [工具名称] | [使用场景和优势] |
| 性能测试 | [工具名称] | [使用场景和优势] |
| 自动化测试 | [工具名称] | [使用场景和优势] |
| 缺陷管理 | [工具名称] | [使用场景和优势] |

---

## 5. 测试策略建议

### 5.1 测试重点
[列出需要重点关注的测试领域]

### 5.2 风险评估
| 风险项 | 风险等级 | 影响范围 | 缓解措施 |
|-------|---------|---------|---------|
| [风险描述] | 高/中/低 | [影响范围] | [应对策略] |

### 5.3 测试资源需求
- **人力资源：** [测试人员配置]
- **时间资源：** [预估测试周期]
- **工具资源：** [所需测试工具]

### 5.4 测试依赖
[列出测试执行的依赖项]

---

## 6. 测试覆盖度分析

### 6.1 功能覆盖度
- **核心功能覆盖：** [覆盖情况说明]
- **边缘功能覆盖：** [覆盖情况说明]

### 6.2 场景覆盖度
- **正向场景：** [数量和覆盖率]
- **异常场景：** [数量和覆盖率]
- **边界场景：** [数量和覆盖率]

### 6.3 风险覆盖度
[说明高风险、中风险、低风险场景的覆盖情况]

### 6.4 测试方法覆盖度
[说明各种测试设计方法的应用情况和覆盖率]

---
```

---

## Quality Requirements (质量要求)

### 1. 业务背景完整性

- **业务目标清晰：** 明确说明需求要解决的业务问题
- **用户角色明确：** 列出所有相关用户角色及其关注点
- **业务规则完整：** 列出所有关键业务规则和约束条件
- **业务价值明确：** 说明需求对业务的价值和影响

### 2. 测试范围准确性

- **功能范围明确：** 清晰界定包含和不包含的功能模块
- **测试类型全面：** 覆盖功能、UI、安全、性能、兼容性等维度
- **环境要求清晰：** 明确测试环境和数据准备要求
- **边界清晰：** 明确测试的边界和限制

### 3. 测试场景覆盖度

- **正向场景：** 至少覆盖所有核心业务流程
- **异常场景：** 必须包含输入校验、业务规则、系统异常、操作异常等类型
- **边界场景：** 覆盖关键的边界值和临界条件
- **安全场景：** 识别潜在的安全风险点
- **性能场景：** 识别性能瓶颈和并发风险
- **兼容性场景：** 明确兼容性测试范围

### 4. 测试方法应用完整性

- **设计方法应用：** 明确每种测试设计方法的应用场景和具体应用说明
- **执行方法规划：** 明确手工测试、自动化测试、接口测试、性能测试的策略
- **工具选择合理：** 根据测试类型推荐合适的测试工具
- **方法覆盖度：** 确保测试设计方法的应用覆盖全面

### 4. 场景设计专业性

- **场景描述清晰：** 每个场景描述简洁明了，重点突出
- **测试重点明确：** 明确每个场景的关键测试点
- **优先级合理：** 根据业务影响和风险合理分配优先级
- **设计方法标注：** 标注使用的测试设计方法
- **风险识别：** 识别并评估潜在风险

---

## Special Considerations (特殊注意事项)

### 1. 边界值测试

- 重点关注：最小值 -1、最小值、最大值、最大值 +1
- 对于字符串：空字符串、单个字符、最大长度、最大长度 +1
- 对于数值：负数、0、正数、最大值、最小值

### 2. 异常场景设计

- **系统异常：** 网络中断、服务超时、数据库连接失败
- **用户异常：** 快速重复操作、异常输入、非法操作
- **数据异常：** 数据不存在、数据已删除、数据状态异常
- **并发异常：** 多用户同时操作同一资源、数据竞争

### 3. 安全测试场景

- **输入安全：** SQL 注入、XSS 攻击、命令注入
- **权限安全：** 越权访问、权限绕过、敏感信息泄露
- **会话安全：** 会话劫持、CSRF 攻击、会话超时

### 4. 性能测试场景

- **响应时间：** 单次操作响应时间、批量操作响应时间
- **并发性能：** 多用户同时操作、峰值负载
- **资源消耗：** 内存占用、CPU 使用率、数据库连接数

---

## Execution Instructions (执行指令)

1. **需求理解：** 仔细阅读需求文档，深入理解业务目标、功能范围、业务规则
2. **业务背景分析：** 提炼业务目标、用户角色、业务价值、业务规则
3. **测试范围界定：** 明确功能范围、测试类型、环境要求、数据需求
4. **场景设计：** 运用测试设计方法，设计全面的测试场景（正向、异常、边界、安全、性能、兼容性）
5. **测试方法规划：** 明确测试设计方法的应用、测试执行方法、测试工具选择
6. **策略建议：** 提出测试重点、风险评估、资源需求、测试依赖
7. **覆盖度分析：** 分析功能覆盖度、场景覆盖度、风险覆盖度、测试方法覆盖度
8. **格式输出：** 严格按照输出格式要求，输出结构化的需求分析报告
9. **质量检查：** 确保满足所有质量要求和特殊注意事项

**注意：输出重点是测试策略和场景规划，不需要输出具体的测试用例步骤。**

**请在收到需求文档后，立即开始执行上述任务。**


---

## 📋 Change Log

### v0.3 (2025-01-16)
- 增加"测试方法"章节，包含测试设计方法应用、测试执行方法、测试工具建议
- 在质量要求中增加"测试方法应用完整性"
- 在覆盖度分析中增加"测试方法覆盖度"
- 在执行指令中增加"测试方法规划"步骤

### v0.2 (2025-01-16)
- 优化输出格式，聚焦业务背景、测试范围、测试场景
- 移除具体测试用例步骤，改为场景级别的设计
- 增加测试策略建议和覆盖度分析
- 使用表格形式组织测试场景，提高可读性
- 明确场景分类：正向、异常、边界、安全、性能、兼容性

### v0.1 (2025-01-14)
- 初始化版本
